# SSR/CSR Boundaries (2026-01-28)

아주 쉬운 말: 서버가 하는 일과 브라우저가 하는 일을 나눠서 정리했어요.

## 서버 컴포넌트(SSR)
- app/layout.tsx
  - 기본 레이아웃(헤더/본문/푸터)
  - 클라이언트 전용 컴포넌트(HeaderNavSwitch)는 자식으로 포함

## 클라이언트 컴포넌트(CSR)
- components/HeaderNavSwitch.tsx
  - 경로에 따라 MY↔MAIN 전환
- app/page.tsx, app/mypage/page.tsx
  - 상태 구독(Zustand), 이벤트 처리(생성/삭제/토글/업데이트), 모달 UI

## 하이드레이션/테마 고려
- components/providers.tsx + components/theme-toggle.tsx
  - 테마는 `class` 기반, `defaultTheme="system"`로 SSR/CSR 불일치 최소화
  - 테마 토글은 마운트 이후 렌더로 하이드레이션 경고 방지
- app/globals.css
  - :root(라이트) / .dark(다크) 변수 분리

## 잠재 리스크와 가이드
- 클라이언트 전용 상태(Zustand)는 새로고침 시 초기화 → `persist` 도입 고려
- 모달은 포커스 트랩/esc 닫기/aria 속성 추가 필요(a11y)
- 라우팅 모달 패턴(`/learn/new`)을 도입하면 공유/딥링크/뒤로가기 UX 개선

## 5살 설명
- 서버는 큰 집을 만들어 주고, 브라우저는 버튼을 누르면 반짝반짝 움직이는 일을 해요.
